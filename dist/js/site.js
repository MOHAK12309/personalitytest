let questions = [
  {
    id: 1,
    question: "act in plays ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 2,
    question: "organize your stuff like file, desk, workspace etc ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 3,
    question: "do experiments ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 4,
    question: "work independently ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 5,
    question: "work in team ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 6,
    question: "being a practical person ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 7,
    question: "work in an office environment ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 8,
    question: "study science ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 9,
    question: "have a clear set of instructions to follow ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 10,
    question: "selling things ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 11,
    question: "explore arts ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 12,
    question: "work on cars ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 13,
    question: "figure out how things work ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 14,
    question: "learn about other cultures ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 15,
    question: "study maths ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 16,
    question: "play instruments or sing ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 17,
    question: "get into discussions about issues ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 18,
    question: "taking care of animals ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 19,
    question: "teach or train people ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 20,
    question: "pay attention to the details ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 21,
    question: "cook ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 22,
    question: "take responsibilities ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 23,
    question: "do filing or typing ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 24,
    question: "give speeches ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 25,
    question: "make drawings and paintings ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 26,
    question: "observe something working ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 27,
    question: "creative writing ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 28,
    question: "do volunteer service ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 29,
    question: "be elected ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 30,
    question: "design something ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 31,
    question: "always be physically active ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 32,
    question: "solve riddles ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 33,
    question: "work with numbers ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 34,
    question: "express yourself creatively ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 35,
    question: "read scientific or technical magazines ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 36,
    question: "use formal language ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 37,
    question: "meet Important people ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 38,
    question: "mediate disputes ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 39,
    question: "fix electrical things ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 40,
    question: "working with number, charts ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 41,
    question: "plan and supervise an activity ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 42,
    question: "rely more on proved methods than new risks ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 43,
    question: "help people ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 44,
    question: "keep record of work you do ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 45,
    question: "lead ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 46,
    question: "perform lab experiments ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 47,
    question: "co-oprate with others  ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 48,
    question: "take photographs ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 49,
    question: "obey the rules completely ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 50,
    question: "spend time exploring nature ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 51,
    question: "initiate new initiaves ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 52,
    question: "have your day structured ?",
    answer: "Conventional",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 53,
    question: "read technical documents of machines ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 54,
    question: "read fiction, plays, poetry ?",
    answer: "Artistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 55,
    question: "solve puzzels ?",
    answer: "Investigative",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 56,
    question: "be ambitious and set your own goals ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 57,
    question: "influence or persuade people ?",
    answer: "Social",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 58,
    question: "promote something to others ?",
    answer: "Enterprising",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 59,
    question: "putting things together or assembling things?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  },
  {
    id: 60,
    question: "work outdoors ?",
    answer: "Realistic",
    options: [
      "Yes",
      "No",
    ]
  }
];


let question_count = 0;
let points = 0;
let R = 0;
let I = 0;
let A = 0;
let S = 0;
let E = 0;
let C = 0;

window.onload = function() {
  show(question_count);
  logApplicant();
};

function CheckOnStart(){
  console.log("CheckOnStart");
  if(sessionStorage.getItem("name")=="")
  {
    location.href("index.html");
  }
}

function logApplicant(){

  var meth = "AppVisit";
  var DTimee = new Date().toISOString();

  var vals = "Do="+meth+"&UserName="+sessionStorage.getItem("name")+"&SessionID="+sessionStorage.getItem("SessionId")+"&UserTime="+DTimee;

  var xhc = new XMLHttpRequest();

  xhc.open("POST", "https://theyouthbuzz.com/YouthBuzzWeb/APIs/Production/CheckIfUserExistsApi.php/", true);

  xhc.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  
  xhc.send(vals);

  xhc.onload = function()
  {
    console.log(this.responseText);
  }
}




function next() {


  if (question_count == questions.length - 1) {
    location.href = "Credentials.html";
  }

  console.log(question_count);


  if(document.querySelector("li.option.active").innerHTML == null){
    document.querySelector("span.msg").innerHTML =  "Please answer Yes or No.";
  }
  let user_answer = document.querySelector("li.option.active").innerHTML;

  if (user_answer == "Yes") 
  {
    if(questions[question_count].answer == "Realistic"){
      R += 1;
      sessionStorage.setItem("RealisticScore", R);
    }else if(questions[question_count].answer == "Investigative"){
      I += 1;
      sessionStorage.setItem("InvestigativeScore", I);
    }else if(questions[question_count].answer == "Artistic"){
      A += 1;
      sessionStorage.setItem("ArtisticScore", A);
    }else if(questions[question_count].answer == "Social"){
      S += 1;
      sessionStorage.setItem("SocialScore", S);
    }else if(questions[question_count].answer == "Enterprising"){
      E += 1;
      sessionStorage.setItem("EnterprisingScore", E);
    }else if(questions[question_count].answer == "Conventional"){
      C += 1;
      sessionStorage.setItem("ConventionalScore", C);
    }
    else{
      //
    }
  }
  else if(user_answer == "No")
  {

  }




  document.getElementById('counter').innerHTML = question_count+2 + " / 60" ;
  question_count++;
  show(question_count);
}

function show(count) {
  let question = document.getElementById("questions");
  let [first, second] = questions[count].options;

  question.innerHTML = `
  <h2>${questions[count].question}</h2>
   <ul class="option_group">
  <li class="option">${first}</li>
  <li class="option">${second}</li>
</ul> 
  `;
  toggleActive();
}

function toggleActive() {
  let option = document.querySelectorAll("li.option");
  for (let i = 0; i < option.length; i++) {
    option[i].onclick = function() {
      for (let i = 0; i < option.length; i++) {
        if (option[i].classList.contains("active")) {
          option[i].classList.remove("active");
        }
      }
      option[i].classList.add("active");
    };
  }
}


window.onscroll = function() {myFunction()};


var header = document.getElementById("myHeader");


var sticky = header.offsetTop;


function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}